// Nexus 전용 AbilitySystemComponent 확장 버전

#pragma once

#include "CoreMinimal.h"
#include "AbilitySystemComponent.h"
#include "NexusAbilitySystemComponent.generated.h"

UCLASS(ClassGroup=(Custom), meta=(BlueprintSpawnableComponent))
class NEXUS_API UNexusAbilitySystemComponent : public UAbilitySystemComponent
{
	GENERATED_BODY()

protected:
	// 마지막으로 체크한 활성화 가능한 Ability 목록 (변경 감지용)
	TArray<FGameplayAbilitySpec> LastActivatableAbilities;
	
public:
	// 기본 생성자
	UNexusAbilitySystemComponent();

protected:
	// 게임 시작 시 호출
	virtual void BeginPlay() override;

	// Ability 목록이 복제로 갱신될 때 호출
	void OnRep_ActivateAbilities() override;

public:
	// 매 프레임 호출 (필요한 경우 능력 상태 체크 등)
	virtual void TickComponent(float DeltaTime, ELevelTick TickType,
	                           FActorComponentTickFunction* ThisTickFunction) override;
};
